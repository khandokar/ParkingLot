var parking=function(){"use strict";function t(){var t,i;try{document.getElementById("btnIn").disabled=!0;document.getElementById("Type").value="In";document.getElementById("TagNumber").removeAttribute("disabled");t=$("#frmInOut");t.removeData("validator");$.validator.unobtrusive.parse(t);t.valid()&&t.data("validator").pendingRequest==0&&(i=baseUrl+"/Parking/In",fetch(i,{method:"POST",headers:{Accept:"application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},body:$("#frmInOut").serialize()}).then(n=>n.text()).then(t=>{document.getElementById("inOutView").innerHTML=t,n()}).catch(n=>{throw n;}))}catch(r){alert("There is an issue occured processing your request.Contact your administrator.")}finally{document.getElementById("btnIn").disabled=!1}}function i(){var t,i;try{document.getElementById("btnOut").disabled=!0;document.getElementById("Type").value!="OutValidated"&&(document.getElementById("Type").value="Out");t=$("#frmInOut");t.removeData("validator");$.validator.unobtrusive.parse(t);t.valid()&&t.data("validator").pendingRequest==0&&(document.getElementById("TagNumber").removeAttribute("disabled"),i=baseUrl+"/Parking/Out",fetch(i,{method:"POST",headers:{Accept:"application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},body:$("#frmInOut").serialize()}).then(n=>n.text()).then(t=>{document.getElementById("inOutView").innerHTML=t,n()}).catch(n=>{throw n;}))}catch(r){alert("There is an issue occured processing your request.Contact your administrator.")}finally{document.getElementById("btnOut").disabled=!1}}function r(){try{var n=baseUrl+"/Parking/Stats";fetch(n,{method:"POST",headers:{Accept:"application/x-www-form-urlencoded"}}).then(n=>n.text()).then(n=>{document.getElementById("modalBody").innerHTML=n,$("#statsModal").modal("show")}).catch(n=>{throw n;})}catch(t){alert("There is an issue occured processing your request.Contact your administrator.")}}function n(){var n=baseUrl+"/Parking/Spots";fetch(n,{method:"POST",headers:{Accept:"application/x-www-form-urlencoded"}}).then(n=>n.text()).then(n=>{document.getElementById("splotList").innerHTML=n}).catch(n=>{throw n;})}function u(){var n=baseUrl+"/Parking/In";fetch(n,{method:"GET",headers:{Accept:"application/x-www-form-urlencoded"}}).then(n=>n.text()).then(n=>{document.getElementById("inOutView").innerHTML=n,document.getElementById("TagNumber").focus()}).catch(n=>{throw n;})}return{In:t,Out:i,Stats:r,Reset:u}}();